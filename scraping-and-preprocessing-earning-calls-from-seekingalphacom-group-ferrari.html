<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="MFIN7036 Students" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", Progress Report, " />

<meta property="og:title" content="Scraping and preprocessing earning calls from seekingalpha.com (Group Ferrari) "/>
<meta property="og:url" content="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/scraping-and-preprocessing-earning-calls-from-seekingalphacom-group-ferrari.html" />
<meta property="og:description" content="By group &#34;Ferrari&#34; Scraping earning calls Our group did some analysis in Earning calls of Top 50 companies on SP500. We collected the data from seekingalpha.com. When we scraped data from the website, the anti-scrape on the website caused some trouble. We used selenium to scrape data and the …" />
<meta property="og:site_name" content="MFIN7036 Student Blog" />
<meta property="og:article:author" content="MFIN7036 Students" />
<meta property="og:article:published_time" content="2022-03-30T12:00:00+08:00" />
<meta name="twitter:title" content="Scraping and preprocessing earning calls from seekingalpha.com (Group Ferrari) ">
<meta name="twitter:description" content="By group &#34;Ferrari&#34; Scraping earning calls Our group did some analysis in Earning calls of Top 50 companies on SP500. We collected the data from seekingalpha.com. When we scraped data from the website, the anti-scrape on the website caused some trouble. We used selenium to scrape data and the …">

        <title>Scraping and preprocessing earning calls from seekingalpha.com (Group Ferrari)  · MFIN7036 Student Blog
</title>
        <link href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="MFIN7036 Student Blog - Full Atom Feed" />



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/"><span class=site-name>MFIN7036 Student Blog</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://buehlmaier.github.io/MFIN7036-student-blog-2022-02
                                    >Home</a>
                                </li>
                                <li ><a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/categories.html">Categories</a></li>
                                <li ><a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/tags.html">Tags</a></li>
                                <li ><a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/scraping-and-preprocessing-earning-calls-from-seekingalphacom-group-ferrari.html">
                Scraping and preprocessing earning calls from seekingalpha.com (Group Ferrari)
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>By group "Ferrari"</p>
<h2>Scraping earning calls</h2>
<p>Our group did some analysis in Earning calls of Top 50 companies on SP500. We collected the data from <a href="https://seekingalpha.com/">seekingalpha.com</a>.</p>
<p>When we scraped data from the website, the anti-scrape on the website caused some trouble. We used selenium to scrape data and the website will block our bot after visiting some pages. The website will show a window as below, which requires the visitor to prove it’s not a bot. This was not easy for the program to handle. Even after proving by hand as the website required, this window will show up again on the next visit.</p>
<p><img alt="Picture showing Powell" src="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/images/Ferarri_pop_ups.png"></p>
<p>We searched online and try to avoid this window showing up. One of the measures helped us a lot. The related code:</p>
<div class="highlight"><pre><span></span><code><span class="k">option</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">ChromeOptions</span><span class="p">()</span>
<span class="k">option</span><span class="p">.</span><span class="n">add_experimental_option</span><span class="p">(</span><span class="ss">&quot;excludeSwitches&quot;</span><span class="p">,[</span><span class="s1">&#39;enable-automation&#39;</span><span class="p">])</span>
<span class="k">option</span><span class="p">.</span><span class="n">add_argument</span><span class="p">(</span><span class="ss">&quot;disable-blink-features=AutomationControlled&quot;</span><span class="p">)</span>

<span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="p">.</span><span class="n">Chrome</span><span class="p">(</span><span class="k">options</span><span class="o">=</span><span class="k">option</span><span class="p">)</span>
</code></pre></div>

<p>The measure is adding some options before creating the chrome webdriver, which made the program more like a human and not easy to be detected as a bot. After that, we rarely see that windows. And there are more measures to hide the bot on <a href="https://piprogramming.org/articles/How-to-make-Selenium-undetectable-and-stealth--7-Ways-to-hide-your-Bot-Automation-from-Detection-0000000017.html">How to make Selenium undetectable and stealth</a></p>
<h2>Preprocessing earning calls</h2>
<p>The data we scraped look like this, there are more than 2000 earning calls from about 50 companies, earning calls of one company looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="err">AAPL</span>
<span class="err">├── 2011-01-18T23:05:21-05:00_Apple Management Discusses Q1 2011 Results - Earnings Call Transcript.html</span>
<span class="err">├── 2011-04-20T22:00:22-04:00_Apple Management Discusses Q2 2011 Results - Earnings Call Transcript.html</span>
<span class="err">├── 2011-07-19T21:40:10-04:00_Apple Management Discusses Q3 2011 Results - Earnings Call Transcript.html</span>
<span class="err">├── 2011-10-18T22:10:11-04:00_Apple&#39;s CEO Discusses Q4 2011 Results - Earnings Call Transcript.html</span>
<span class="err">├── 2012-01-24T20:30:07-05:00_Apple&#39;s CEO Discusses Q1 2012 Results - Earnings Call Transcript.html</span>
<span class="err">├── 2012-04-24T21:10:04-04:00_Apple&#39;s CEO Discusses Q2 2012 Results - Earnings Call Transcript.html</span>
<span class="err">├── ...</span>
<span class="err">├── ...</span>
<span class="err">├── ...</span>
<span class="err">├── 2021-10-28T21:25:05-04:00_Apple Inc. (AAPL) CEO Tim Cook on Q4 2021 Results - Earnings Call Transcript.html</span>
<span class="err">└── 2022-01-27T20:19:05-05:00_Apple Inc. (AAPL) CEO Tim Cook on Q1 2022 Results - Earnings Call Transcript.html</span>
</code></pre></div>

<p>There are still some problems when we need directly use the data. The two basic problems are: </p>
<ol>
<li>There are some missing data for the corresponding date and firm. We need to identify them.</li>
<li>There are multiple earning calls for a corresponding firm and date. The reason that first came to our mind is that some companies have their subsidiaries and they also have their earning calls.</li>
</ol>
<p>To handle these problems, I first read all these files from their path and record the corresponding path. To handle the difference in the separator of Windows and Mac, I use os.sep to replace “/”. I use regular expression to read the date information contained in the file name. Then I save the dataframe of all the data and their path and date information.</p>
<div class="highlight"><pre><span></span><code><span class="err">for company in companies:</span>
<span class="err">    if not company.startswith(&quot;.&quot;):</span>
<span class="err">        comPath = path + os.sep + company</span>
<span class="err">        os.chdir(comPath)</span>
<span class="err">        fileLs = os.listdir()</span>
<span class="err">        for file in fileLs:</span>
<span class="err">            if not file.startswith(&quot;.&quot;):</span>
<span class="err">                date = re.search(r&#39;(\d+\-\d+\-\d+)&#39;,file).group()</span>
<span class="err">                filePath = comPath + os.sep + file</span>
<span class="err">                filePath = filePath.replace(originalPath,&quot;&quot;)</span>
<span class="err">                df = df.append({&quot;Company&quot;:company,&quot;Date&quot;:date,&quot;Path&quot;:filePath},ignore_index=True)</span>
</code></pre></div>

<h4>Missing data</h4>
<p>Then is to handle the missing data and filter the redundant data. 
The strategy I take for missing data is that I supplement all missing data in the form of nan so that when we do further work, we can notice the data is missing. I take track of all the time quarters and all the companies shown in these earning calls and go over the for loop to supplement the missing data.</p>
<div class="highlight"><pre><span></span><code><span class="err">for date in dates:</span>
<span class="err">    for company in companies:</span>
<span class="err">        #         Missingg data</span>
<span class="err">        if len(df[(df[&quot;Date&quot;]==date) &amp; (df[&quot;Company&quot;]==company)]) == 0:</span>
<span class="err">            df = df.append({&quot;Company&quot;:company,&quot;Date&quot;:date,&quot;Children&quot;:False},ignore_index=True)</span>
</code></pre></div>

<h4>Redundant data</h4>
<p>To handle the redundant data, the strategy is to set another attribute called “Children” to recognize all the earning calls belonging to the subsidiaries. (If it is a subsidiary, Children will be True.”
I use regular expression to identify whether a specific Ticker’s abbreviation appears in the name of the earning call file. It works for some of the files’ names but there are still many earning call files that do not contain the abbreviation. So, I ask my partner to give me a dictionary to relate the abbreviation with the full name of the company and search for the full name. However, it works even worse since the full name of the company is complex and may not fully match the corresponding files. So, I use regular expression to do some changes to the full name and combine the full name and abbreviation to search for the corresponding data. And it seems that it works. 
The last step is to go through the whole DataFrame manually and see whether something goes wrong.</p>
<div class="highlight"><pre><span></span><code><span class="err">names = pd.read_csv(&quot;Top 50 company in S&amp;P500.csv&quot;)</span>
<span class="err">names[&quot;Company name &quot;] = names[&quot;Company name &quot;].apply(lambda x:re.sub(r&quot;(,*\s*Inc.)&quot;,&quot;&quot;,x))</span>
<span class="err">names[&quot;Company name &quot;] = names[&quot;Company name &quot;].apply(lambda x:re.match(r&quot;\w+&quot;,x).group())</span>
<span class="err">names[&quot;Ticker&quot;] = names[&quot;Ticker&quot;].apply(lambda x:re.sub(r&quot;(\w*:)&quot;,&quot;&quot;,x))</span>
<span class="err">names[&quot;Ticker&quot;] = names[&quot;Ticker&quot;].apply(lambda x:re.sub(r&quot;\.&quot;,&quot;&quot;,x))</span>
<span class="err">names = names.set_index(&quot;Ticker&quot;)</span>
<span class="err">nameDic = names[&quot;Company name &quot;].to_dict()</span>
</code></pre></div>

<p>One problem is that there are still some files that miss after we ignore the subsidiary since we do the data supplement and category together and if the data only contains the subsidiary earning call, it will miss. The solution is simple. I just first identify the subsidiary, then supplement all the data.</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="nc">date</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">dates</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">company</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">companies</span><span class="p">:</span><span class="w"> </span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">(df[&quot;Date&quot;</span><span class="o">]==</span><span class="nc">date</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">&quot;Company&quot;</span><span class="o">]==</span><span class="n">company</span><span class="p">)</span><span class="err">]</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span><span class="w"></span>
<span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="o">[</span><span class="n">(df[&quot;Date&quot;</span><span class="o">]==</span><span class="nc">date</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">&quot;Company&quot;</span><span class="o">]==</span><span class="n">company</span><span class="p">)</span><span class="err">]</span><span class="w"> </span>
<span class="w">            </span><span class="n">condition1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">[</span><span class="n">&quot;Path&quot;</span><span class="o">]</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="k">contains</span><span class="p">(</span><span class="n">nameDic</span><span class="o">[</span><span class="n">company</span><span class="o">]</span><span class="p">)</span><span class="o">==</span><span class="k">False</span><span class="w"></span>
<span class="w">            </span><span class="n">condition2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">path</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="k">contains</span><span class="p">(</span><span class="n">company</span><span class="p">)</span><span class="o">==</span><span class="k">False</span><span class="w"></span>
<span class="w">            </span><span class="k">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">[</span><span class="n">(condition1) &amp; (condition2)&amp;(condition3)</span><span class="o">]</span><span class="p">.</span><span class="k">index</span><span class="w"></span>
<span class="w">            </span><span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="o">[</span><span class="n">index,&quot;Children&quot;</span><span class="o">]=</span><span class="w"> </span><span class="k">True</span><span class="w"></span>
</code></pre></div>

<h4>Progamely and Manually Change some text inaccuracy</h4>
<p>The original data frame is finely organized. However, our goal is to check the relationship between the text of earning call and the stock return in the following days. Then we need to use the specific date. 
After I append the specific date using regular expression, new problems show up:</p>
<ol>
<li>Some companies still do not show up even if there is an earning call for it. </li>
<li>There are sometimes multiple earning calls for a specific period for a given company.</li>
</ol>
<p>For the first problem, I check the company that we miss in the data and find out that the reason is that some company change their name such as Google to Alphabet, Facebook to Meta. For this problem, I check their names based on time independently. </p>
<p>And the second problem, there are many reasons for the redundant data, and I solve them one by one:</p>
<ul>
<li>Some of the earning calls have wrong time information. For example, the 2014Q2 Earning call of CRM is corresponding to 2015Q2. For these stocks, I change the name of files manually.  </li>
<li>Some separate the earning call from the Q&amp;A session. For these stocks, I merge the two sessions manually.</li>
<li>Some have both original version and upload version. For these stocks, I delete the upload version manually.</li>
<li>Also, I mistakenly identify some subsidiary companies as the original company because of the use of abbreviation. The abbreviation of some of the companies is just one letter, such as T and we likely match something else. So, I choose to match the abbreviation only if the abbreviation is more than 3 letters.</li>
</ul>
<p>After debugging the previous problem, the data is clean except AVGO data has still some problems. The reason is that it merges the subsidiary in 2015Q4, and uses the name of its subsidiary as its new name. So, I also check the name corresponding to the given period and manually do some changes to it.
Finally, this part is done and we can start with text processing.</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span><span class="w"> </span><span class="nc">date</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">dates</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="n">company</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">companies</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="n">Missingg</span><span class="w"> </span><span class="k">data</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">(df[&quot;Date&quot;</span><span class="o">]==</span><span class="nc">date</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">&quot;Company&quot;</span><span class="o">]==</span><span class="n">company</span><span class="p">)</span><span class="err">]</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"></span>
<span class="w">            </span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="err">{</span><span class="ss">&quot;Company&quot;</span><span class="err">:</span><span class="n">company</span><span class="p">,</span><span class="ss">&quot;Date&quot;</span><span class="err">:</span><span class="nc">date</span><span class="p">,</span><span class="ss">&quot;Children&quot;</span><span class="err">:</span><span class="k">False</span><span class="err">}</span><span class="p">,</span><span class="n">ignore_index</span><span class="o">=</span><span class="k">True</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="err">#</span><span class="w"> </span><span class="n">Child</span><span class="w"> </span><span class="n">Company</span><span class="w"></span>
<span class="w">        </span><span class="n">elif</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">(df[&quot;Date&quot;</span><span class="o">]==</span><span class="nc">date</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">&quot;Company&quot;</span><span class="o">]==</span><span class="n">company</span><span class="p">)</span><span class="err">]</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span><span class="w"></span>
<span class="w">            </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="o">[</span><span class="n">(df[&quot;Date&quot;</span><span class="o">]==</span><span class="nc">date</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="n">&quot;Company&quot;</span><span class="o">]==</span><span class="n">company</span><span class="p">)</span><span class="err">]</span><span class="w"> </span>
<span class="w">            </span><span class="n">condition1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">[</span><span class="n">&quot;Path&quot;</span><span class="o">]</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="k">contains</span><span class="p">(</span><span class="n">nameDic</span><span class="o">[</span><span class="n">company</span><span class="o">]</span><span class="p">)</span><span class="o">==</span><span class="k">False</span><span class="w"></span>
<span class="w">            </span><span class="err">#</span><span class="w"> </span><span class="n">Campanies</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">name</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">company</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;GOOG&quot;</span><span class="w"> </span><span class="err">:</span><span class="w"></span>
<span class="w">                </span><span class="n">condition1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">condition1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">temp</span><span class="o">[</span><span class="n">&quot;Path&quot;</span><span class="o">]</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="k">contains</span><span class="p">(</span><span class="ss">&quot;Google&quot;</span><span class="p">)</span><span class="o">==</span><span class="k">False</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="n">elif</span><span class="w"> </span><span class="n">company</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;AVGO&quot;</span><span class="err">:</span><span class="w"></span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nc">date</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="ss">&quot;2015Q4&quot;</span><span class="err">:</span><span class="w"></span>
<span class="w">                    </span><span class="n">condition1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">[</span><span class="n">&quot;Path&quot;</span><span class="o">]</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="k">contains</span><span class="p">(</span><span class="ss">&quot;Avago&quot;</span><span class="p">)</span><span class="o">==</span><span class="k">False</span><span class="w">           </span>
<span class="w">            </span><span class="k">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">[</span><span class="n">&quot;Path&quot;</span><span class="o">]</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="ss">&quot;/&quot;</span><span class="o">+</span><span class="n">company</span><span class="p">,</span><span class="ss">&quot;&quot;</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="n">condition2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">True</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="nf">len</span><span class="p">(</span><span class="n">company</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">3</span><span class="err">:</span><span class="w"></span>
<span class="w">                </span><span class="n">condition2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">path</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="k">contains</span><span class="p">(</span><span class="n">company</span><span class="p">)</span><span class="o">==</span><span class="k">False</span><span class="w"></span>
<span class="w">            </span><span class="n">condition3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">[</span><span class="n">&quot;Path&quot;</span><span class="o">]</span><span class="p">.</span><span class="nf">str</span><span class="p">.</span><span class="k">contains</span><span class="p">((</span><span class="n">nameDic</span><span class="o">[</span><span class="n">company</span><span class="o">]</span><span class="p">.</span><span class="n">capitalize</span><span class="p">()))</span><span class="o">==</span><span class="k">False</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">company</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="ss">&quot;AVGO&quot;</span><span class="err">:</span><span class="w"></span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="nc">date</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="ss">&quot;2015Q4&quot;</span><span class="err">:</span><span class="w"></span>
<span class="w">                    </span><span class="n">condition3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">True</span><span class="w"></span>
<span class="w">            </span><span class="k">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="o">[</span><span class="n">(condition1) &amp; (condition2)&amp;(condition3)</span><span class="o">]</span><span class="p">.</span><span class="k">index</span><span class="w"></span>
<span class="w">            </span><span class="n">df</span><span class="p">.</span><span class="n">loc</span><span class="o">[</span><span class="n">index,&quot;Children&quot;</span><span class="o">]=</span><span class="w"> </span><span class="k">True</span><span class="w"></span>
</code></pre></div>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2022-03-30T12:00:00+08:00">Wed 30 March 2022</time>
            <h4>Category</h4>
            <a class="category-link" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/categories.html#progress-report-ref">Progress Report</a>
<h4>Contact</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/buehlmaier/MFIN7036-student-blog-2022-02" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>