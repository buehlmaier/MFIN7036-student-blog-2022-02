<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="MFIN7036 Students" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content=", Progress Report, " />

<meta property="og:title" content="Product Attribute Influence Analysis Based on Logistic Regression (Group DeepDiver) "/>
<meta property="og:url" content="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/product-attribute-influence-analysis-based-on-logistic-regression-group-deepdiver.html" />
<meta property="og:description" content="By Group &#34;DeepDiver&#34; This is part of a whole Program, I skipped the web crawling, Data Cleaning, Word frequency statistics. After those I skipped, I have a certain understanding of the collected text data, but I still want to know what product attributes users rate the products and the pros …" />
<meta property="og:site_name" content="MFIN7036 Student Blog" />
<meta property="og:article:author" content="MFIN7036 Students" />
<meta property="og:article:published_time" content="2022-03-29T08:49:00+08:00" />
<meta name="twitter:title" content="Product Attribute Influence Analysis Based on Logistic Regression (Group DeepDiver) ">
<meta name="twitter:description" content="By Group &#34;DeepDiver&#34; This is part of a whole Program, I skipped the web crawling, Data Cleaning, Word frequency statistics. After those I skipped, I have a certain understanding of the collected text data, but I still want to know what product attributes users rate the products and the pros …">

        <title>Product Attribute Influence Analysis Based on Logistic Regression (Group DeepDiver)  · MFIN7036 Student Blog
</title>
        <link href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="MFIN7036 Student Blog - Full Atom Feed" />



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/"><span class=site-name>MFIN7036 Student Blog</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       https://buehlmaier.github.io/MFIN7036-student-blog-2022-02
                                    >Home</a>
                                </li>
                                <li ><a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/categories.html">Categories</a></li>
                                <li ><a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/tags.html">Tags</a></li>
                                <li ><a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/product-attribute-influence-analysis-based-on-logistic-regression-group-deepdiver.html">
                Product Attribute Influence Analysis Based on Logistic Regression (Group DeepDiver)
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>By Group "DeepDiver"</p>
<p>This is part of a whole Program, I skipped the web crawling, Data Cleaning, Word frequency statistics. After those I skipped, I have a certain understanding of the collected text data, but I still want to know what product attributes users rate the products and the pros &amp; cons of Oral-B from the user reviews, and this requires us to perform a quantitative analysis.</p>
<h1>Original data structure</h1>
<p>This is a data file crawled by a web crawler with some data cleaning. I name it as "df" in the code. The columns are shown as below:</p>
<div class="highlight"><pre><span></span><code><span class="n">IN</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">Index</span><span class="p">([</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;rating&#39;</span><span class="p">,</span> <span class="s1">&#39;content&#39;</span><span class="p">,</span> <span class="s1">&#39;sentence_length&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;object&#39;</span><span class="p">)</span>
</code></pre></div>

<h1>A Closer look at the review</h1>
<p>Let's first take a closer look at the whole review. Here are three examples of the 1 rating review and 5 rating review:
Here is a 1-star rating review:</p>
<blockquote>
<p>Review#1: "This toothbrush is used ONCE daily by only ONE person. I've only had it about 2-1/2 months and it no longer holds a charge. Despite charging it daily, it doesn't even stay charged long enough to get thru the full two-minute brushing cycle. It used to only require being charged about every one-two weeks, but now I must charge it daily. When I tried to get customer support, I was told it's past warranty and nothing will be done. I've always used Phillips Sonic toothbrushes and have never had a problem. I thought I'd try Oral-B, but I won't again."</p>
</blockquote>
<p>The customer complained about the charge of Oral-B and metion the Phillips he used to use. Because of the Oral-B poor performance on charging, this customer gave a 1-star rating at last.</p>
<p>Here are two 5-star rating reviews:</p>
<blockquote>
<p>Review#2: "This is an improvement over the very good earlier model. It really gives a great cleaning and takes up very little room on the bathroom sink counter. I see there is a spot to rate the timer function, but I actually haven't seen it function. I am brushing about 1 1/2 minutes and that might be the problem. I believe they recommended 2 minutes. I find removing the tooth brush from the wand a little hard. My husband and I both use that same unit, but switch toothbrushes, of course, and this is my only real complaint about this system."</p>
<p>Review#3: "Got this for my husband he loves it!"</p>
</blockquote>
<p>In Review#2, this customer mentioned that Oral-b has a great cleaning effect and the timer function is also very nice to use, therefore, he (she) gave a 5-star rating. </p>
<p>Compared Review#1 with Review#2, I made an assumption that different customers give their rating according to some special attributes of the Oral-B electric toothbrush such as charge, battery, cleaning effect, or the brand itself.</p>
<p>Another assumption will be, if a customer buys something good and is going to write a review, he may just say something like "I like it, just buy it", which is short and compact, just like Review#3. However, if he does not like this good, and he (she) still wants to write a review, in most cases, he (she) will complain a lot about what's wrong with this product. So the length of the low-rating review is longer than that of the high-rating review. Now, we have a preliminary idea of the variables.</p>
<h1>Why do I use logistic regression?</h1>
<p>Before answering this question, let's consider what is the difference between a 1-star rating and a 2-star rating review?</p>
<p>Humans are very subjective animals, and even for the same reasons, some will rate a 1-star, others may give a 2-star rating. It is hard to explain what leads to the difference between a rating of 1 and a rating of 2 reviews. <strong>The reason for the difference may not be due to the product itself, but due to the customers.</strong> But if I use positive and negative reviews as variables, these reviews will be easy to distinguish and all the positive or negative reviews that customers gave are based on the product itself, without subjective factors, which makes the quantitative analysis more economic sense.</p>
<p>Only two dependent variables? Then it is the logistic regression's show time.</p>
<h1>How do I set up the variables and dependent variables?</h1>
<p>There are many attributes of the electric toothbrush. According to the word frequency and the content of the reviews, I summarized that customers mainly through the following 12 angles to discuss oral-b this product: <strong>battery, price, function, noise, power, charging, quality, design, brand, logistics, effect, and user experience</strong>. Based on the 12 attributes, the corresponding relevant words (could be ADJ or NOUN) are then manually filtered, and the same word describing multiple attributes is avoided as much as possible, thus reducing the correlation between different variables. 12 Dummy variables are set depending on whether these terms appear in the comments or not.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">dummy_generation</span><span class="p">(</span><span class="n">review</span><span class="p">):</span>
    <span class="n">battery_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;battery&#39;</span><span class="p">,</span><span class="s1">&#39;lithium&#39;</span><span class="p">,</span><span class="s1">&#39;batteries&#39;</span><span class="p">]</span>
    <span class="n">price_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">,</span><span class="s1">&#39;expensive&#39;</span><span class="p">,</span><span class="s1">&#39;cheap&#39;</span><span class="p">,</span><span class="s1">&#39;cheaply&#39;</span><span class="p">,</span><span class="s1">&#39;money&#39;</span><span class="p">,</span> <span class="s1">&#39;inexpensive&#39;</span><span class="p">,</span><span class="s1">&#39;budget&#39;</span><span class="p">,</span><span class="s1">&#39;costly&#39;</span><span class="p">]</span>
    <span class="n">function_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;function&#39;</span><span class="p">,</span><span class="s1">&#39;functionality&#39;</span><span class="p">,</span><span class="s1">&#39;mode&#39;</span><span class="p">,</span><span class="s1">&#39;timing&#39;</span><span class="p">,</span><span class="s1">&#39;timer&#39;</span><span class="p">,</span><span class="s1">&#39;charging light&#39;</span><span class="p">]</span>
    <span class="n">sound_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sound&#39;</span><span class="p">,</span><span class="s1">&#39;loud&#39;</span><span class="p">,</span><span class="s1">&#39;louder&#39;</span><span class="p">,</span><span class="s1">&#39;squeaky&#39;</span><span class="p">,</span><span class="s1">&#39;noise&#39;</span><span class="p">,</span><span class="s1">&#39;noisy&#39;</span><span class="p">]</span>
    <span class="n">power_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">,</span><span class="s1">&#39;vibration&#39;</span><span class="p">,</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span><span class="s1">&#39;oscillation&#39;</span><span class="p">,</span><span class="s1">&#39;powered&#39;</span><span class="p">,</span><span class="s1">&#39;spinning&#39;</span><span class="p">]</span>
    <span class="n">charge_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;charger&#39;</span><span class="p">,</span><span class="s1">&#39;charge&#39;</span><span class="p">,</span><span class="s1">&#39;recharge&#39;</span><span class="p">,</span><span class="s1">&#39;recharging&#39;</span><span class="p">,</span> <span class="s1">&#39;rechargeable&#39;</span><span class="p">,</span><span class="s1">&#39;volt&#39;</span><span class="p">]</span>
    <span class="n">quality_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;quality&#39;</span><span class="p">,</span><span class="s1">&#39;waterproof&#39;</span><span class="p">]</span>
    <span class="n">design_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">,</span><span class="s1">&#39;pretty&#39;</span><span class="p">,</span><span class="s1">&#39;color&#39;</span><span class="p">,</span><span class="s1">&#39;style&#39;</span><span class="p">,</span><span class="s1">&#39;compact&#39;</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">,</span><span class="s1">&#39;looking&#39;</span><span class="p">,</span><span class="s1">&#39;heavy&#39;</span><span class="p">,</span><span class="s1">&#39;lightweight&#39;</span><span class="p">,</span><span class="s1">&#39;weight&#39;</span><span class="p">]</span>
    <span class="n">brand_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;brand&#39;</span><span class="p">,</span><span class="s1">&#39;phillip&#39;</span><span class="p">,</span><span class="s1">&#39;sonic&#39;</span><span class="p">,</span><span class="s1">&#39;sonicare&#39;</span><span class="p">,</span><span class="s1">&#39;soniccare&#39;</span><span class="p">,</span><span class="s1">&#39;philip&#39;</span> <span class="p">,</span><span class="s1">&#39;oralb&#39;</span><span class="p">]</span>
    <span class="n">dilivery_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;deliver&#39;</span><span class="p">,</span><span class="s1">&#39;delivery&#39;</span><span class="p">,</span><span class="s1">&#39;shipping&#39;</span><span class="p">,</span><span class="s1">&#39;ship&#39;</span><span class="p">]</span>
    <span class="n">effect_word</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;clear&#39;</span><span class="p">,</span><span class="s1">&#39;cleaner&#39;</span><span class="p">,</span><span class="s1">&#39;cleanliness&#39;</span><span class="p">,</span><span class="s1">&#39;effective&#39;</span><span class="p">,</span> <span class="s1">&#39;effect&#39;</span><span class="p">]</span>
    <span class="n">user_experience_word</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;feel&#39;</span><span class="p">,</span><span class="s1">&#39;feels&#39;</span><span class="p">,</span><span class="s1">&#39;felt&#39;</span><span class="p">,</span> <span class="s1">&#39;soft&#39;</span><span class="p">,</span><span class="s1">&#39;rough&#39;</span><span class="p">,</span><span class="s1">&#39;comfortable&#39;</span><span class="p">,</span><span class="s1">&#39;uncomfortable&#39;</span><span class="p">,</span><span class="s1">&#39;harsh&#39;</span><span class="p">]</span>


    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">battery_word</span><span class="p">)):</span>
        <span class="n">battery</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">battery</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">price_word</span><span class="p">)):</span>
        <span class="n">price</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">price</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">function_word</span><span class="p">)):</span>
        <span class="n">function</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">function</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">sound_word</span><span class="p">)):</span>
        <span class="n">sound</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sound</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">power_word</span><span class="p">)):</span>
        <span class="n">power</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">power</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">charge_word</span><span class="p">)):</span>
        <span class="n">charge</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">charge</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">quality_word</span><span class="p">)):</span>
        <span class="n">quality</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">quality</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">design_word</span><span class="p">)):</span>
        <span class="n">design</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">design</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">brand_word</span><span class="p">)):</span> 
        <span class="n">brand</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">brand</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">dilivery_word</span><span class="p">)):</span>
        <span class="n">delivery</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">delivery</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">effect_word</span><span class="p">)):</span>
        <span class="n">effect</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">effect</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">if</span> <span class="kc">True</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="ow">in</span> <span class="n">review</span> <span class="p">,</span><span class="n">user_experience_word</span><span class="p">)):</span>
        <span class="n">user_experience</span><span class="o">=</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">user_experience</span><span class="o">=</span><span class="mi">0</span>

    <span class="k">return</span> <span class="n">battery</span><span class="p">,</span><span class="n">price</span><span class="p">,</span><span class="n">function</span><span class="p">,</span><span class="n">sound</span><span class="p">,</span><span class="n">power</span><span class="p">,</span><span class="n">charge</span><span class="p">,</span><span class="n">quality</span><span class="p">,</span><span class="n">design</span><span class="p">,</span><span class="n">brand</span><span class="p">,</span><span class="n">delivery</span><span class="p">,</span><span class="n">effect</span><span class="p">,</span><span class="n">user_experience</span>
</code></pre></div>

<p>In previous NLP and data cleaning, I already obtained the length of each review, and the code will not be shown here.</p>
<p>For the dependent variables, I took 1-to-3-star rating review as negative review (0) and 4-to-5-star rating review as positive review (1).</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span><span class="nn">spacy</span><span class="o">,</span><span class="nn">re</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">from</span> <span class="nn">spacy.lang.en.stop_words</span> <span class="kn">import</span> <span class="n">STOP_WORDS</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">roc_curve</span><span class="p">,</span> <span class="n">auc</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">preprocessing</span>

<span class="n">nlp</span><span class="o">=</span><span class="n">spacy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;en_core_web_sm&quot;</span><span class="p">)</span>

<span class="c1"># Generate dependent variables</span>
<span class="k">for</span> <span class="n">rating</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">rating</span> <span class="o">==</span> <span class="mi">4</span> <span class="ow">or</span> <span class="n">rating</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">rating_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">rating</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">rating_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">rating</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">or</span> <span class="n">rating</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">rating_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Generate variables</span>
<span class="k">for</span> <span class="n">review</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]):</span>
    <span class="n">review</span><span class="o">=</span><span class="n">word_replace</span><span class="p">(</span><span class="n">review</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="n">review</span><span class="p">)</span>
    <span class="c1">#select token</span>
    <span class="n">token_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">text</span><span class="p">:</span> 
        <span class="n">token_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">token</span><span class="o">.</span><span class="n">lemma_</span><span class="p">)</span>

    <span class="n">filtered</span> <span class="o">=</span><span class="p">[]</span> 
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">token_list</span><span class="p">:</span> 
        <span class="n">lexeme</span> <span class="o">=</span> <span class="n">nlp</span><span class="o">.</span><span class="n">vocab</span><span class="p">[</span><span class="n">word</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">lexeme</span><span class="o">.</span><span class="n">is_stop</span> <span class="o">==</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">lexeme</span><span class="o">.</span><span class="n">is_punct</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">filtered</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>

    <span class="n">filtered</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[^A-Za-z@]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">filtered</span><span class="p">]</span>
    <span class="n">filtered</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">filtered</span> <span class="k">if</span> <span class="n">word</span><span class="o">!=</span><span class="s1">&#39;&#39;</span><span class="p">]</span>

    <span class="n">dummy_tuple</span><span class="o">=</span><span class="n">dummy_generation</span><span class="p">(</span><span class="n">filtered</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">wordlist</span><span class="p">,</span><span class="n">dummy</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="n">battery</span><span class="p">,</span><span class="n">price</span><span class="p">,</span><span class="n">function</span><span class="p">,</span><span class="n">sound</span><span class="p">,</span><span class="n">power</span><span class="p">,</span><span class="n">charge</span><span class="p">,</span><span class="n">quality</span><span class="p">,</span><span class="n">design</span><span class="p">,</span><span class="n">brand</span><span class="p">,</span><span class="n">delivery</span><span class="p">,</span><span class="n">effect</span><span class="p">,</span><span class="n">user_experience</span><span class="p">],</span><span class="n">dummy_tuple</span><span class="p">):</span>
        <span class="n">wordlist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dummy</span><span class="p">)</span>

<span class="c1">#Add dummy variables into df</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">rating_list</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;battery&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">battery</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">price</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;function&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">function</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;sound&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">sound</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;power&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">power</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;charge&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">charge</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;quality&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">quality</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;design&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">design</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;brand&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">brand</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;delivery&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">delivery</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;effect&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">effect</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;user_experience&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">user_experience</span>

<span class="c1"># Standarlize the length of review</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;std_length&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">preprocessing</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sentence_length&#39;</span><span class="p">])</span>
</code></pre></div>

<p>After all these,  all the preparation of logistic regression is done.</p>
<h1>Logistic Regression</h1>
<p>Run the regression code shown below:</p>
<div class="highlight"><pre><span></span><code><span class="n">pools</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;battery&#39;</span><span class="p">,</span>
       <span class="s1">&#39;price&#39;</span><span class="p">,</span>
       <span class="s1">&#39;function&#39;</span><span class="p">,</span>
       <span class="s1">&#39;sound&#39;</span><span class="p">,</span>
       <span class="s1">&#39;power&#39;</span><span class="p">,</span>
       <span class="s1">&#39;charge&#39;</span><span class="p">,</span>
       <span class="s1">&#39;quality&#39;</span><span class="p">,</span>
       <span class="s1">&#39;design&#39;</span><span class="p">,</span>
       <span class="s1">&#39;brand&#39;</span><span class="p">,</span>
       <span class="s1">&#39;delivery&#39;</span><span class="p">,</span>
       <span class="s1">&#39;effect&#39;</span><span class="p">,</span>
       <span class="s1">&#39;user_experience&#39;</span><span class="p">,</span>
       <span class="s1">&#39;std_length&#39;</span><span class="p">]</span>

<span class="n">X</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">pools</span><span class="p">]</span>
<span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">]</span>

<span class="n">LR</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">penalty</span><span class="o">=</span><span class="s2">&quot;l1&quot;</span><span class="p">,</span><span class="n">solver</span><span class="o">=</span> <span class="s1">&#39;liblinear&#39;</span><span class="p">,</span><span class="n">class_weight</span><span class="o">=</span><span class="s1">&#39;balanced&#39;</span><span class="p">,</span><span class="n">tol</span><span class="o">=</span><span class="mf">0.008</span><span class="p">,</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>
<span class="n">lr_model</span><span class="o">=</span><span class="n">LR</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
<span class="n">lr_model1</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">))</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span> <span class="c1">#used to look summary</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lr_model1</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
<span class="n">predicted_prob</span> <span class="o">=</span> <span class="n">lr_model</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">predicted_default_prob</span><span class="o">=</span> <span class="n">predicted_prob</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">roc_curve</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">predicted_default_prob</span><span class="p">)</span>
<span class="n">roc_auc</span> <span class="o">=</span> <span class="n">auc</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Variables: &#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No. of Variables: &#39;</span> <span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;the AUC Value: &#39;</span> <span class="p">,</span> <span class="n">roc_auc</span><span class="p">)</span>
</code></pre></div>

<p>Output:</p>
<p><img alt="picture group DeepDiver" src="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/images/DeepDiver_post-02_lr2.png"></p>
<p>The variables battery, price, function, charge, brand, effect, user experience, and review length are significant under the 95% confidence level. So I concluded that these 7 variables (except the review length) are the most important factors for customers to consider when scoring the product. As for the variables power, quality, design, and delivery, they are not significant in this model, and the reason could be that customers have different perceptions of these product attributes, or they do not make a clear evaluation of the product based on these attributes. One more reason is that I did not find the suitable related words in my previous work.</p>
<p>Delete the non-significant variables and run the regression again, the result is shown below:</p>
<p><img alt="picture group DeepDiver" src="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/images/DeepDiver_post-02_lr1.png"></p>
<h1>Result visualization and analysis</h1>
<p>It is easy to visualize the fit of the model.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">draw_curve</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span><span class="n">tpr</span><span class="p">,</span><span class="n">roc_auc</span><span class="p">,</span><span class="n">save_name</span><span class="p">):</span>
<span class="c1">###make a plot of roc curve</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
    <span class="n">lw</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkorange&#39;</span><span class="p">,</span>
             <span class="n">lw</span><span class="o">=</span><span class="n">lw</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;ROC curve (area = </span><span class="si">%0.2f</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">roc_auc</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;navy&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="n">lw</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;False Positive Rate&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;True Positive Rate&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">save_name</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower right&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">path</span><span class="o">+</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="o">+</span><span class="n">save_name</span><span class="o">+</span><span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Figure was saved to &#39;</span> <span class="o">+</span> <span class="n">path</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">draw_curve</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span><span class="n">tpr</span><span class="p">,</span><span class="n">roc_auc</span><span class="p">,</span><span class="s1">&#39;Product Attributes - Scoring Model&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Output:</p>
<p><img alt="picture group DeepDiver" src="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/images/DeepDiver_post-02_auc.png"></p>
<p>With an AUC value of 0.76, this model fits quite well enough to explain the relationship between variables and dependent variables. I visualize the coefficients of the different variables:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">draw_variablesimportance</span><span class="p">(</span><span class="n">save_name</span><span class="o">=</span><span class="s2">&quot;Variances Importances&quot;</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.unicode_minus&#39;</span><span class="p">]</span><span class="o">=</span><span class="kc">False</span> 
    <span class="n">coef_LR</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">lr_model</span><span class="o">.</span><span class="n">coef_</span><span class="p">[</span><span class="mi">0</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="n">index</span> <span class="o">=</span> <span class="n">pools</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Var&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span><span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
    <span class="n">coef_LR</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Variances Importances&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">path</span><span class="o">+</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="o">+</span><span class="n">save_name</span><span class="o">+</span><span class="s1">&#39;.png&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">draw_variablesimpo</span>
</code></pre></div>

<p>Here I use the results of the first regression.</p>
<p><img alt="picture group DeepDiver" src="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/images/DeepDiver_post-02_variance.png"></p>
<p>The larger the coefficient, the greater the impact of the variable on the evaluation results. Insignificant variables are in the middle of the diagram, their coefficients are so small that we can ignore them. The coefficients of variables effect, function, user_experience, price are positive, which means that customers think Oral-B products are great due to these attributes. On the contrary, the coefficients of sound, charge, battery, and brand are negative, which means that these attributes drag the product down and reduce customer satisfaction. </p>
<p>With this chart, decision-makers will have a clear understanding of which attributes need to be improved and which attributes need to be maintained. I briefly wrote some of my own insights, and I believe others can gain more insight from this data.</p>
<blockquote>
<p>Oral-B should spend more time and money on the research about how to lower the noise made by the toothbrush and how to improve the battery life and charging speed.  On the same time, Oral-B should keep the advantage of cleaning effect and nice user experience, and maybe can even slightly rise the goods price since few people can not afford the current price.</p>
</blockquote>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2022-03-29T08:49:00+08:00">Tue 29 March 2022</time>
            <h4>Category</h4>
            <a class="category-link" href="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/categories.html#progress-report-ref">Progress Report</a>
<h4>Contact</h4>
<div id="sidebar-social-link">
    <a href="https://github.com/buehlmaier/MFIN7036-student-blog-2022-02" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="https://buehlmaier.github.io/MFIN7036-student-blog-2022-02/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>